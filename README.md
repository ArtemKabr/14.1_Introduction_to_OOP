

# üìò 14.1‚Äì14.2 –í–≤–µ–¥–µ–Ω–∏–µ –≤ –û–û–ü (E-commerce Core)

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –û–û–ü –Ω–∞ Python.  
–ó–∞–¥–∞–Ω–∏—è –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω—ã –Ω–∞ –∑–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –Ω–∞–≤—ã–∫–æ–≤ —Ä–∞–±–æ—Ç—ã —Å:
- –∫–ª–∞—Å—Å–∞–º–∏ –∏ –æ–±—ä–µ–∫—Ç–∞–º–∏,
- –∏–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏–µ–π (–ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –∞—Ç—Ä–∏–±—É—Ç—ã, –≥–µ—Ç—Ç–µ—Ä—ã/—Å–µ—Ç—Ç–µ—Ä—ã),
- –º–µ—Ç–æ–¥–∞–º–∏ –∫–ª–∞—Å—Å–æ–≤ (`@classmethod`),
- —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏.

---
## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ models.py           # –ö–ª–∞—Å—Å—ã Product –∏ Category
‚îÇ   ‚îî‚îÄ‚îÄ utils.py            # –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ JSON
‚îÇ
‚îú‚îÄ‚îÄ tests/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ conftest.py         # –§–∏–∫—Å—Ç—É—Ä—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ test_models.py      # –¢–µ—Å—Ç—ã –¥–ª—è Product –∏ Category
‚îÇ   ‚îî‚îÄ‚îÄ test_utils.py       # –¢–µ—Å—Ç—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏
‚îÇ
‚îú‚îÄ‚îÄ .coverage
‚îú‚îÄ‚îÄ .flake8
‚îú‚îÄ‚îÄ .gitignore
‚îú‚îÄ‚îÄ .pre-commit-config.yaml
‚îú‚îÄ‚îÄ main.py                 # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã –∫–ª–∞—Å—Å–æ–≤
‚îú‚îÄ‚îÄ poetry.lock
‚îú‚îÄ‚îÄ products.json           # –ò—Å—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îú‚îÄ‚îÄ pyproject.toml
‚îú‚îÄ‚îÄ pytest.ini
‚îî‚îÄ‚îÄ README.md


## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- `Product` ‚Äî –∫–ª–∞—Å—Å —Ç–æ–≤–∞—Ä–∞:
    - –ø—Ä–∏–≤–∞—Ç–Ω–∞—è —Ü–µ–Ω–∞ (`__price`)
  - –≥–µ—Ç—Ç–µ—Ä `price` –∏ —Å–µ—Ç—Ç–µ—Ä —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
  - –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–Ω–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã —á–µ—Ä–µ–∑ `input()`
  - –º–µ—Ç–æ–¥ `@classmethod new_product()` ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –∏–∑ —Å–ª–æ–≤–∞—Ä—è —Å —É—á—ë—Ç–æ–º –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
  - –º–∞–≥–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:
    - `__str__` ‚Äî —Ñ–æ—Ä–º–∞—Ç: `–ù–∞–∑–≤–∞–Ω–∏–µ, X —Ä—É–±. –û—Å—Ç–∞—Ç–æ–∫: X —à—Ç.`
    - `__add__` ‚Äî —Å—É–º–º–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Ç–æ–≤–∞—Ä–æ–≤ (price √ó quantity)

- **Category** ‚Äî –∫–ª–∞—Å—Å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:
  - –ø—Ä–∏–≤–∞—Ç–Ω—ã–π —Å–ø–∏—Å–æ–∫ `__products`
  - –º–µ—Ç–æ–¥ `add_product()` ‚Äî –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–æ–≤–∞—Ä –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å—á—ë—Ç—á–∏–∫
  - `products` ‚Äî –≥–µ—Ç—Ç–µ—Ä (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤ `Product`)
  - `product_list_str()` ‚Äî —Å—Ç—Ä–æ–∫–∞ —Å —Ç–æ–≤–∞—Ä–∞–º–∏ –¥–ª—è –≤—ã–≤–æ–¥–∞
  - `__str__` ‚Äî —Ñ–æ—Ä–º–∞—Ç: `–ö–∞—Ç–µ–≥–æ—Ä–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–¥—É–∫—Ç–æ–≤: X —à—Ç.`

- –ü–æ–¥—Å—á—ë—Ç —Ç–æ–≤–∞—Ä–æ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π —á–µ—Ä–µ–∑ –∞—Ç—Ä–∏–±—É—Ç—ã –∫–ª–∞—Å—Å–∞ (`product_count`, `category_count`)
- –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏–∑ `products.json` —á–µ—Ä–µ–∑ `load_data_from_json`

- ‚úÖ **100% –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏** (`pytest + pytest-cov`)
- - 97% –ø–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏ (`pytest + pytest-cov`)
- –ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è:
  - `monkeypatch` ‚Äî –¥–ª—è `input()`
  - `capsys` ‚Äî –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–≤–æ–¥–∞
  - —Ñ–∏–∫—Å—Ç—É—Ä—ã –∏–∑ `conftest.py``

- üë®‚Äçüîß –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `pre-commit`:
  - `flake8` ‚Äî —Å—Ç–∏–ª—å –∫–æ–¥–∞ (PEP8)
  - `black` ‚Äî –∞–≤—Ç–æ—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
  - `isort` ‚Äî —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–æ–≤
  - `mypy` ‚Äî —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

---

## üß∞ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
git clone https://github.com/ArtemKabr/14.1_Introduction_to_OOP.git
cd 14.1_Introduction_to_OOP
poetry install


## üß∞ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
git clone https://github.com/ArtemKabr/14.1_Introduction_to_OOP.git
cd 14.1_Introduction_to_OOP
poetry install

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ö—É–∫–∏ pre-commit:

pre-commit install
pre-commit run --all-file

3. –ó–∞–ø—É—Å–∫ main.py:

python main.py

4. **–¢–µ—Å—Ç—ã**

pytest

5. –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è:

pytest --cov=src.models --cov-report=term-missing
6. –î–ª—è HTML-–æ—Ç—á—ë—Ç–∞:

pytest --cov=src.models --cov-report=html
start htmlcov/index.html
